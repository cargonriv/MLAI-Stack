import{j as e}from"./chunk-hK1J5FH5.js";import{c as s,e as a,f as t,g as r,j as i,b as n,w as o,p as l,x as c,n as d,H as m,t as h}from"./index-Cs7pq2m6.js";import{r as x}from"./chunk-jyyxJnsv.js";import{S as u}from"./chunk-CJpvBhF2.js";import"./chunk-DxTKSm-D.js";import"./transformers.web.js-B2xmzSE8.js";import"./chunk-BNd5y9io.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=s("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),g=s("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),j=s("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),y=`${{apiUrl:"https://portfolio-production-377c.up.railway.app",apiTimeout:parseInt("30000",10),enableAnalytics:!0,enableErrorReporting:!0,enablePerformanceMonitoring:!0,isDevelopment:!1,isProduction:!0}.apiUrl}/api`,f=async e=>{const s=await fetch(`${y}/user/profile`,{headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("Failed to get profile");return s.json()},w=()=>{const[s,m]=x.useState(localStorage.getItem("authToken")||""),[h,w]=x.useState(!!s),[b,v]=x.useState(""),[N,k]=x.useState(""),[S,C]=x.useState(""),[R,T]=x.useState(!1),[L,P]=x.useState([]),[$,E]=x.useState([]),[I,M]=x.useState(!1),[z,F]=x.useState(""),[O,A]=x.useState([]),[D,U]=x.useState("");x.useEffect(()=>{h&&q()},[h]);const q=async()=>{try{const e=await f(s);P(e.ratings);const a=await(async()=>{const e=await fetch(`${y}/movies`);if(!e.ok)throw new Error("Failed to get movies");return e.json()})();A(a)}catch(e){F("Failed to fetch user data.")}},B=async e=>{e.preventDefault();try{const e=await(async(e,s)=>{const a=await fetch(`${y}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});if(!a.ok)throw new Error("Login failed");return a.json()})(b,N);m(e.token),localStorage.setItem("authToken",e.token),w(!0),C("")}catch(s){C("Login failed. Please check your credentials.")}},H=async e=>{e.preventDefault();try{const e=await(async(e,s)=>{const a=await fetch(`${y}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});if(!a.ok)throw new Error("Registration failed");return a.json()})(b,N);m(e.token),localStorage.setItem("authToken",e.token),w(!0),C("")}catch(s){C("Registration failed. User may already exist.")}},J=async(e,a)=>{try{await(async(e,s,a)=>{const t=await fetch(`${y}/user/ratings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({movieId:s,rating:a})});if(!t.ok)throw new Error("Failed to add rating");return t.json()})(s,e,a);const t=await f(s);P(t.ratings)}catch(t){F("Failed to add rating.")}};return h?e.jsxs("div",{className:"space-y-4",children:[z&&e.jsxs(o,{variant:"destructive",children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx(c,{children:z})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"font-semibold text-sm",children:["Rate Movies (",L.length," rated)"]}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>{localStorage.removeItem("authToken"),m(""),w(!1),P([]),E([]),v(""),k("")},className:"text-xs",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-2 top-2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search movies...",value:D,onChange:e=>U(e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm bg-secondary/30 border border-border/50 rounded-lg"})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:(D?O.filter(e=>e.title.toLowerCase().includes(D.toLowerCase())):O).map(s=>{const a=(t=s.id,(null==(r=L.find(e=>e.movieId===t))?void 0:r.rating)||0);var t,r;return e.jsxs("div",{className:"bg-secondary/20 rounded-lg p-3 border border-border/30",children:[e.jsx("h5",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>J(s.id,t),children:e.jsx(d,{className:"w-4 h-4 "+(t<=a?"text-yellow-500 fill-current":"text-muted-foreground")})},t))})]},s.id)})})]}),L.length>0&&e.jsx(n,{onClick:async()=>{M(!0),F("");try{const e=await(async e=>{const s=await fetch(`${y}/recommendations`,{headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw new Error("Failed to get recommendations");return s.json()})(s);E(e)}catch(e){F("Failed to get recommendations.")}finally{M(!1)}},disabled:I,className:"w-full",children:I?"Generating...":"Get Recommendations"}),$.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-primary",children:"Recommendations for You"}),e.jsx("div",{className:"space-y-2",children:$.map(s=>e.jsx(a,{className:"bg-secondary/30",children:e.jsxs(i,{className:"p-3",children:[e.jsx("h5",{className:"font-medium text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground italic",children:s.explanation}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(d,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{children:s.predictedRating.toFixed(1)})]})]})},s.movieId))})]})]}):e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(r,{children:R?"Register":"Login"})}),e.jsxs(i,{children:[e.jsxs("form",{onSubmit:R?H:B,className:"space-y-4",children:[e.jsx("input",{type:"email",placeholder:"Email",value:b,onChange:e=>v(e.target.value),className:"w-full p-2 bg-secondary/30 border border-border/50 rounded-lg",required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:N,onChange:e=>k(e.target.value),className:"w-full p-2 bg-secondary/30 border border-border/50 rounded-lg",required:!0}),S&&e.jsx("p",{className:"text-red-500 text-sm",children:S}),e.jsxs(n,{type:"submit",className:"w-full",children:[R?e.jsx(j,{className:"w-4 h-4 mr-2"}):e.jsx(p,{className:"w-4 h-4 mr-2"}),R?"Register":"Login"]})]}),e.jsx(n,{variant:"link",onClick:()=>T(!R),className:"w-full mt-4",children:R?"Already have an account? Login":"Need an account? Register"})]})]})})},b=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-16",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(n,{variant:"ghost",onClick:()=>window.location.href="/#/showcase",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(h,{className:"w-4 h-4"}),"Back to Showcase"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-gradient-primary rounded-2xl shadow-glow-primary/50",children:e.jsx(d,{className:"w-8 h-8 text-background"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Movie Recommendation Demo"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Recommendation system using matrix factorization and deep learning"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsx(w,{})})}),e.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Technical Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Algorithm"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Collaborative filtering with neural networks"}),e.jsx("li",{children:"• Matrix factorization techniques"}),e.jsx("li",{children:"• User and item embeddings"}),e.jsx("li",{children:"• Deep learning for complex patterns"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Performance"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• 87.5% accuracy on MovieLens 25M"}),e.jsx("li",{children:"• Handles sparse user-item matrices"}),e.jsx("li",{children:"• Personalized recommendations"}),e.jsx("li",{children:"• Cold start problem mitigation"})]})]})]})]})})]})})]});
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{b as default};
