import{j as e}from"./chunk-BXEcVBbX.js";import{c as s,m as t,S as a,d as n,h as r,n as l,b as i,o,p as c,R as d,M as m,X as x,H as u,A as h,q as g}from"./index-UIF2JAyp.js";import{r as b}from"./chunk-DRBa9aRh.js";import{pipeline as p,env as f}from"./transformers.web.js-BNI60vAQ.js";import{L as j}from"./chunk-3TgMIr6H.js";import{S as y}from"./chunk-BZBjZWXy.js";import{S as v}from"./chunk-CZPMVsJT.js";import"./chunk-C_tfXL3w.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=s("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),N=s("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),k=s("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),R=b.forwardRef(({className:s,type:a,...n},r)=>e.jsx("input",{type:a,className:t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...n}));
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */R.displayName="Input";var C=Object.defineProperty,S=(e,s,t)=>((e,s,t)=>s in e?C(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t)(e,"symbol"!=typeof s?s+"":s,t);f.allowRemoteModels=!0,f.useBrowserCache=!0;class z{constructor(){S(this,"detector",null),S(this,"segmenter",null),S(this,"initialized",!1)}async initialize(){try{this.detector=await p("object-detection","Xenova/detr-resnet-101",{device:"wasm",revision:"main"}),this.initialized=!0}catch(e){throw e}}async detectAndSegment(e,s){if(!this.initialized)throw new Error("Models not initialized");const t=performance.now();try{const a=document.createElement("canvas"),n=a.getContext("2d");if(!n)throw new Error("Could not get canvas context");a.width=e.naturalWidth,a.height=e.naturalHeight,n.drawImage(e,0,0);const r=a.toDataURL("image/jpeg",.8),l=await this.detector(r);let i=l;if(s){const e=s.toLowerCase().split(/[.,\s]+/).filter(e=>e.length>0);i=l.filter(s=>e.some(e=>s.label.toLowerCase().includes(e)))}const o=i.map(e=>({label:e.label,confidence:Math.round(100*e.score),box:[e.box.xmin,e.box.ymin,e.box.xmax,e.box.ymax]}));let c;o.length>0&&(c=await this.visualizeSegmentation(a,o,[]));return{detections:o,segmentedImage:c,processingTime:(performance.now()-t)/1e3}}catch(a){throw a}}async visualizeSegmentation(e,s,t){if(!e.getContext("2d"))throw new Error("Could not get canvas context");const a=document.createElement("canvas");a.width=e.width,a.height=e.height;const n=a.getContext("2d");if(!n)throw new Error("Could not get overlay canvas context");return n.drawImage(e,0,0),n.strokeStyle="#00ff00",n.lineWidth=2,n.font="16px Arial",n.fillStyle="#00ff00",s.forEach((e,s)=>{const[t,a,r,l]=e.box;n.strokeRect(t,a,r-t,l-a);const i=`${e.label} (${e.confidence}%)`,o=n.measureText(i).width;n.fillStyle="rgba(0, 255, 0, 0.8)",n.fillRect(t,a-20,o+8,20),n.fillStyle="#000",n.fillText(i,t+4,a-4)}),a.toDataURL("image/png")}dispose(){this.initialized=!1,this.detector=null,this.segmenter=null}}const D=({src:s,alt:n,placeholder:r,className:l,skeletonClassName:i,onLoad:o,onError:c,...d})=>{const[m,x]=b.useState(!1),[u,h]=b.useState(!1),[g,p]=b.useState(!1),f=b.useRef(null),j=b.useRef(null);b.useEffect(()=>{const e=f.current;if(e)return j.current=new IntersectionObserver(([e])=>{var s;e.isIntersecting&&(p(!0),null==(s=j.current)||s.disconnect())},{rootMargin:"50px",threshold:.1}),j.current.observe(e),()=>{var e;null==(e=j.current)||e.disconnect()}},[]);return u?e.jsx("div",{className:t("flex items-center justify-center bg-muted text-muted-foreground text-sm",l),children:"Failed to load image"}):e.jsxs("div",{className:"relative",children:[!m&&e.jsx(a,{className:t("absolute inset-0 z-10",i)}),r&&!m&&g&&e.jsx("img",{src:r,alt:"",className:t("absolute inset-0 w-full h-full object-cover blur-sm scale-110 transition-opacity duration-300",l),"aria-hidden":"true"}),e.jsx("img",{ref:f,src:g?s:void 0,alt:n,className:t("transition-opacity duration-300",m?"opacity-100":"opacity-0",l),onLoad:()=>{x(!0),null==o||o()},onError:()=>{h(!0),null==c||c()},loading:"lazy",...d})]})},E=({type:s="spinner",size:a="md",message:n="Loading...",className:r})=>{const l={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},i={sm:"p-4",md:"p-6",lg:"p-8"};return"spinner"===s?e.jsxs("div",{className:t("flex flex-col items-center justify-center",i[a],r),children:[e.jsx(j,{className:t("animate-spin text-accent-primary",l[a])}),n&&e.jsx("p",{className:"mt-2 text-sm text-foreground-secondary animate-pulse",children:n})]}):"skeleton"===s?e.jsxs("div",{className:t("space-y-3",i[a],r),children:[e.jsx("div",{className:"h-4 bg-background-tertiary rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-background-tertiary rounded w-3/4 animate-pulse"}),e.jsx("div",{className:"h-4 bg-background-tertiary rounded w-1/2 animate-pulse"})]}):"pulse"===s?e.jsx("div",{className:t("bg-background-tertiary rounded animate-pulse",i[a],r),children:e.jsx("div",{className:"h-full w-full bg-gradient-to-r from-transparent via-background-secondary to-transparent animate-pulse"})}):"dots"===s?e.jsxs("div",{className:t("flex items-center justify-center space-x-1",i[a],r),children:[e.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-accent-tertiary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):null},I=({isLoading:s,error:t,isEmpty:a,children:o,loadingComponent:c,errorComponent:d,emptyComponent:m,onRetry:x,className:u})=>{if(s)return e.jsx("div",{className:u,children:c||e.jsx(E,{})});if(t){const s="string"==typeof t?t:t.message;return e.jsx("div",{className:u,children:d||e.jsx(n,{className:"bg-background-secondary/50 backdrop-blur-sm border-red-500/20",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx(l,{className:"w-8 h-8 text-red-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-sm text-foreground-secondary mb-4",children:s}),x&&e.jsx(i,{onClick:x,variant:"outline",className:"border-red-500/20 hover:bg-red-500/10",children:"Try Again"})]})})})}return a?e.jsx("div",{className:u,children:m||e.jsx(n,{className:"bg-background-secondary/50 backdrop-blur-sm",children:e.jsxs(r,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-background-tertiary rounded-full mx-auto mb-3 flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 bg-foreground-tertiary/20 rounded"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground-primary mb-2",children:"No data available"}),e.jsx("p",{className:"text-sm text-foreground-secondary",children:"There's nothing to show here yet."})]})})}):e.jsx("div",{className:u,children:o})},T=(e={})=>{const{maxAttempts:s=3,delay:t=1e3,backoff:a="exponential",onRetry:n,onMaxAttemptsReached:r}=e,[l,i]=b.useState({isRetrying:!1,attempt:0,canRetry:!0,error:null}),o=b.useRef(),c=b.useCallback(e=>"exponential"===a?t*Math.pow(2,e):t*(e+1),[t,a]);return{retry:b.useCallback(async e=>{const t=async a=>{try{i(e=>({...e,isRetrying:a>0,attempt:a,error:null})),a>0&&n&&n(a);const s=await e();return i(e=>({...e,isRetrying:!1,error:null})),s}catch(l){const e=l instanceof Error?l:new Error(String(l));if(a<s-1){const s=c(a);return i(s=>({...s,error:e,canRetry:!0})),new Promise((e,n)=>{o.current=setTimeout(()=>{t(a+1).then(e).catch(n)},s)})}throw i(s=>({...s,isRetrying:!1,canRetry:!1,error:e})),r&&r(),e}};return t(0)},[s,c,n,r]),reset:b.useCallback(()=>{o.current&&clearTimeout(o.current),i({isRetrying:!1,attempt:0,canRetry:!0,error:null})},[]),cancel:b.useCallback(()=>{o.current&&clearTimeout(o.current),i(e=>({...e,isRetrying:!1,canRetry:!1}))},[]),...l}},M=()=>{const[s,t]=b.useState("cat. dog. person. car."),[a,n]=b.useState(!1),[r,u]=b.useState(null),[h,g]=b.useState(null),[p,f]=b.useState(null),[j,C]=b.useState(!1),[S,E]=b.useState(null),[M,A]=b.useState(null),[L,F]=b.useState(null),[P,U]=b.useState(!1),O=b.useRef(null),{isOnline:q}=o(),{retry:$,isRetrying:H,attempt:W}=T({maxAttempts:3,delay:2e3,onRetry:e=>{}}),{retry:B,isRetrying:Z}=T({maxAttempts:2,delay:1e3});b.useEffect(()=>((async()=>{if(q)try{E(null),await $(async()=>{const e=new z;await e.initialize(),f(e),C(!0)})}catch(e){const s=e instanceof Error?e.message:"Unknown error occurred";E(s),C(!1)}else E("Model loading requires internet connection")})(),()=>{null==p||p.dispose()}),[]);const X=async()=>{if(h)if(s.trim())if(q||j){n(!0),F(null);try{await B(async()=>{if(j&&p){const e=await(async e=>new Promise((s,t)=>{const a=new Image;a.onload=()=>s(a),a.onerror=t,a.src=URL.createObjectURL(e)}))(h),t=new Promise((e,s)=>{setTimeout(()=>s(new Error("Analysis timeout after 60 seconds")),6e4)}),a=await Promise.race([p.detectAndSegment(e,s),t]);A(a)}else{A({detections:[{label:"detected object",confidence:85,box:[150,75,350,275]}],processingTime:1.2})}})}catch(e){const s=e instanceof Error?e.message:"Analysis failed";F(s),(s.includes("timeout")||s.includes("network"))&&A({detections:[{label:"fallback detection",confidence:75,box:[150,75,350,275]}],processingTime:1.5})}finally{n(!1)}}else F("Analysis requires internet connection when models aren't cached");else F("Please enter a text prompt");else F("No image selected")},G=()=>{if(null==M?void 0:M.segmentedImage)try{const e=document.createElement("a");e.href=M.segmentedImage;const s=`detection-result-${(new Date).toISOString().replace(/[:.]/g,"-")}.png`;e.download=s,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(e){F("Failed to save image. Please try again.")}},J=()=>{if(null==M?void 0:M.segmentedImage)try{const e=window.open();e&&(e.document.write(`\n          <html>\n            <head>\n              <title>Detection Results - Full Size</title>\n              <style>\n                body { \n                  margin: 0; \n                  padding: 20px; \n                  background: #000; \n                  display: flex; \n                  justify-content: center; \n                  align-items: center; \n                  min-height: 100vh;\n                }\n                img { \n                  max-width: 100%; \n                  max-height: 100vh; \n                  object-fit: contain;\n                  border-radius: 8px;\n                  box-shadow: 0 4px 20px rgba(255,255,255,0.1);\n                }\n              </style>\n            </head>\n            <body>\n              <img src="${M.segmentedImage}" alt="Detection Results" />\n            </body>\n          </html>\n        `),e.document.close())}catch(e){F("Failed to open image in new tab.")}},K=()=>{E(null),C(!1);(async()=>{try{E(null),await $(async()=>{const e=new z;await e.initialize(),f(e),C(!0)})}catch(e){const s=e instanceof Error?e.message:"Unknown error occurred";E(s)}})()};return e.jsx(c,{onError:e=>{},children:e.jsxs("div",{className:"space-y-3 sm:space-y-4 max-h-[60vh] overflow-y-auto overflow-x-hidden pr-2 chrome-scrollbar-fix firefox-enhanced-fix",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--accent-primary)) hsl(var(--background-secondary))"},children:[e.jsx(I,{isLoading:H,error:S,onRetry:K,loadingComponent:e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),e.jsxs("span",{className:"text-sm text-blue-400",children:["Loading ML models... (Attempt ",W+1,"/3)"]})]})}),errorComponent:e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-red-400 mb-1",children:"Model Loading Failed"}),e.jsx("p",{className:"text-xs text-red-300 mb-2",children:S}),e.jsxs(i,{onClick:K,size:"sm",variant:"outline",className:"border-red-500/20 hover:bg-red-500/10 text-red-400",children:[e.jsx(d,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]})}),children:j&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-2 sm:p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-xs sm:text-sm text-green-400",children:"ML models loaded and ready"})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-foreground",children:"Text Prompt (describe what to detect)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{value:s,onChange:e=>t(e.target.value),placeholder:"cat. dog. person. car.",className:"flex-1 text-sm touch-manipulation"}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>t("cat. dog. person. car."),title:"Reset to default",className:"px-2 sm:px-3 touch-manipulation active:scale-95",children:e.jsx(y,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'Separate objects with periods (e.g., "cat. dog. person.")'})]}),e.jsx("div",{className:"border-2 border-dashed border-border/50 rounded-lg p-4 sm:p-6 lg:p-8 text-center hover:border-primary/50 transition-colors touch-manipulation",children:r?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"relative inline-block group",children:[e.jsx(D,{src:(null==M?void 0:M.segmentedImage)||r,alt:"Selected for analysis",className:"max-w-full max-h-48 sm:max-h-56 lg:max-h-64 rounded-lg object-contain cursor-pointer transition-all duration-200 hover:shadow-lg",skeletonClassName:"max-h-48 sm:max-h-56 lg:max-h-64 rounded-lg",onClick:()=>(null==M?void 0:M.segmentedImage)&&U(!0)}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(null==M?void 0:M.segmentedImage)&&e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>U(!0),className:"h-6 w-6 rounded-full p-0 bg-black/50 border-white/20 hover:bg-black/70 text-white",title:"Zoom image",children:e.jsx(k,{className:"h-3 w-3"})}),e.jsx(i,{variant:"outline",size:"sm",onClick:J,className:"h-6 w-6 rounded-full p-0 bg-black/50 border-white/20 hover:bg-black/70 text-white",title:"Open in new tab",children:e.jsx(m,{className:"h-3 w-3"})})]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>{u(null),g(null),A(null),F(null),U(!1),O.current&&(O.current.value="")},className:"h-6 w-6 rounded-full p-0 bg-black/50 border-white/20 hover:bg-black/70 text-white",title:"Clear image",children:e.jsx(x,{className:"h-3 w-3"})})]}),(null==M?void 0:M.segmentedImage)&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Click to zoom"})]}),e.jsxs("div",{className:"space-y-2",children:[L&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-2 sm:p-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(l,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-xs sm:text-sm text-red-300",children:L})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(i,{onClick:()=>{X()},disabled:a||Z||!s.trim(),className:"bg-gradient-accent hover:shadow-glow-accent transition-all duration-300 flex-1 sm:flex-none touch-manipulation active:scale-95 text-sm sm:text-base py-2.5 sm:py-3",children:a||Z?e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 animate-spin"}),e.jsx("span",{children:Z?"Retrying...":"Analyzing..."}),e.jsxs("div",{className:"ml-2 flex space-x-1",children:[e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse",style:{animationDelay:"300ms"}})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Detect & Segment"]})}),(null==M?void 0:M.segmentedImage)&&e.jsxs(i,{onClick:G,variant:"outline",className:"flex-1 sm:flex-none touch-manipulation active:scale-95 text-sm sm:text-base py-2.5 sm:py-3 border-green-500/20 hover:bg-green-500/10 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",children:[e.jsx(w,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Save Result"]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 mx-auto text-muted-foreground mb-3 sm:mb-4"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4 leading-relaxed",children:["Upload an image to detect and segment objects",j?" (Models ready)":S?" (Models unavailable)":" (Loading models...)"]}),e.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(!t)return;if(!t.type.startsWith("image/"))return;if(!(t.size>10485760))try{g(t),F(null);const e=new FileReader;e.onload=e=>{var s;u(null==(s=e.target)?void 0:s.result)},e.onerror=()=>{F("Failed to read image file")},e.readAsDataURL(t)}catch(a){F("Error processing selected file")}},className:"hidden"}),e.jsxs(i,{onClick:()=>{var e;return null==(e=O.current)?void 0:e.click()},className:"bg-gradient-accent hover:shadow-glow-accent transition-all duration-300 w-full sm:w-auto touch-manipulation active:scale-95 text-sm sm:text-base py-2.5 sm:py-3",children:[e.jsx(N,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Upload Image"]})]})}),M&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"bg-primary/10 border border-primary/30 rounded-lg p-3 sm:p-4",children:[e.jsxs("h4",{className:"font-semibold text-primary mb-2 sm:mb-3 text-sm sm:text-base",children:["Detected Objects (",M.detections.length,")"]}),M.detections.length>0?e.jsx("div",{className:"space-y-2",children:M.detections.map((s,t)=>e.jsxs("div",{className:"flex justify-between items-center p-2 sm:p-3 bg-background/50 rounded animate-in slide-in-from-left duration-300",style:{animationDelay:100*t+"ms"},children:[e.jsx("span",{className:"font-medium text-sm sm:text-base truncate mr-2",children:s.label}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.confidence,"%"]}),e.jsx("div",{className:"w-12 sm:w-16 bg-secondary rounded-full h-1.5 sm:h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-primary h-1.5 sm:h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${s.confidence}%`,animationDelay:150*t+300+"ms"}})})]})]},t))}):e.jsxs("p",{className:"text-muted-foreground text-xs sm:text-sm leading-relaxed",children:['No objects matching "',s,'" were detected.']})]}),e.jsxs("div",{className:"bg-accent/10 border border-accent/30 rounded-lg p-3 sm:p-4",children:[e.jsx("h4",{className:"font-semibold text-accent mb-2 sm:mb-3 text-sm sm:text-base",children:"Analysis Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Processing Time:"}),e.jsxs("div",{className:"font-medium",children:[M.processingTime.toFixed(2),"s"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Model Status:"}),e.jsx("div",{className:"font-medium",children:j?"DETR-ResNet":"Fallback"})]})]})]})]}),P&&(null==M?void 0:M.segmentedImage)&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>U(!1),children:e.jsxs("div",{className:"relative max-w-[95vw] max-h-[95vh] bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-black/50 text-white p-3 flex justify-between items-center z-10",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Detection Results - Full Size"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{onClick:e=>{e.stopPropagation(),G()},variant:"outline",size:"sm",className:"bg-black/50 border-white/20 hover:bg-black/70 text-white h-8",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Save"]}),e.jsxs(i,{onClick:e=>{e.stopPropagation(),J()},variant:"outline",size:"sm",className:"bg-black/50 border-white/20 hover:bg-black/70 text-white h-8",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"New Tab"]}),e.jsx(i,{onClick:e=>{e.stopPropagation(),U(!1)},variant:"outline",size:"sm",className:"bg-black/50 border-white/20 hover:bg-black/70 text-white h-8",children:e.jsx(x,{className:"w-3 h-3"})})]})]}),e.jsx("img",{src:M.segmentedImage,alt:"Detection Results - Full Size",className:"max-w-full max-h-full object-contain",onClick:e=>e.stopPropagation()}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-3",children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{children:[M.detections.length," object",1!==M.detections.length?"s":""," detected"]}),e.jsxs("span",{children:["Processed in ",M.processingTime.toFixed(2),"s"]})]})})]})})]})})},A=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(u,{}),e.jsx("div",{className:"pt-16",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(i,{variant:"ghost",onClick:()=>window.location.href="/#/showcase",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(h,{className:"w-4 h-4"}),"Back to Showcase"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-gradient-primary rounded-2xl shadow-glow-primary/50",children:e.jsx(g,{className:"w-8 h-8 text-background"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Image Classification Demo"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Advanced object detection and segmentation using a Detection Transformer (DETR) with a Residual Neural Network as its backbone (ResNet-101)"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsx(M,{})})}),e.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Technical Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Model Architecture"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Meta's Detection Transformers (DETR)"}),e.jsx("li",{children:"• ResNet-101 base for feature extraction"}),e.jsx("li",{children:"• Zero-shot text-prompted detection"}),e.jsx("li",{children:"• Predicts set of bounding boxes and category labels for each object of interest"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Features"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Natural language object queries"}),e.jsx("li",{children:"• Real-time processing"}),e.jsx("li",{children:"• Multiple object detection"}),e.jsx("li",{children:"• Bipartite matching"})]})]})]})]})})]})})]});export{A as default};
