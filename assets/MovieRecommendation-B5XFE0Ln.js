import{j as e}from"./chunk-BXEcVBbX.js";import{c as s,d as a,e as t,f as r,h as i,b as n,r as l,n as o,s as c,l as d,H as m,A as x}from"./index-DAEy43yK.js";import{r as h}from"./chunk-DRBa9aRh.js";import{c as u}from"./chunk-C_tfXL3w.js";import{S as g}from"./chunk-DYyWm5_3.js";import"./transformers.web.js-BNI60vAQ.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=s("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),j=s("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),y=s("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),v=u("https://rotmzbpxjzjqajpedigx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJvdG16YnB4anpqcWFqcGVkaWd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM0NzYxMDAsImV4cCI6MjA2OTA1MjEwMH0.EZxY0sD3MoDpJKE07C7yCNwAx2-Z_dNNs1NJxO1bnvw",{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),f=[{id:1,title:"The Shawshank Redemption",genre:"Drama",year:1994,rating:9.3},{id:2,title:"The Godfather",genre:"Crime",year:1972,rating:9.2},{id:3,title:"The Dark Knight",genre:"Action",year:2008,rating:9},{id:4,title:"Pulp Fiction",genre:"Crime",year:1994,rating:8.9},{id:5,title:"Forrest Gump",genre:"Drama",year:1994,rating:8.8}],w=async e=>{var s;await new Promise(e=>setTimeout(e,400));const{data:{user:a}}=await v.auth.getUser(),t=[{movieId:1,rating:5},{movieId:2,rating:4},{movieId:3,rating:5}];return{id:(null==a?void 0:a.id)||"demo-user",email:(null==a?void 0:a.email)||"demo@example.com",name:(null==(s=null==a?void 0:a.user_metadata)?void 0:s.name)||"Demo User",ratingsCount:t.length,favoriteGenre:"Sci-Fi",ratings:t}},N=()=>{const[s,m]=h.useState(localStorage.getItem("authToken")||""),[x,u]=h.useState(!!s),[N,b]=h.useState(""),[k,S]=h.useState(""),[I,C]=h.useState(""),[M,T]=h.useState(!1),[R,F]=h.useState([]),[D,P]=h.useState([]),[z,L]=h.useState(!1),[J,A]=h.useState(""),[E,G]=h.useState([]),[q,U]=h.useState("");h.useEffect(()=>{x&&O()},[x]);const O=async()=>{try{const e=await w();F(e.ratings);const s=await(async()=>(await new Promise(e=>setTimeout(e,500)),f))();G(s)}catch(e){A("Failed to fetch user data.")}},Y=async e=>{e.preventDefault();try{const e=await(async(e,s)=>{var a;const{data:t,error:r}=await v.auth.signInWithPassword({email:e,password:s});if(r)throw new Error(r.message);return{token:null==(a=t.session)?void 0:a.access_token,user:t.user}})(N,k);m(e.token),localStorage.setItem("authToken",e.token),u(!0),C("")}catch(s){C("Login failed. Please check your credentials.")}},H=async e=>{e.preventDefault();try{const e=await(async(e,s)=>{var a;const{data:t,error:r}=await v.auth.signUp({email:e,password:s});if(r)throw new Error(r.message);return{token:null==(a=t.session)?void 0:a.access_token,user:t.user}})(N,k);m(e.token),localStorage.setItem("authToken",e.token),u(!0),C("")}catch(s){C("Registration failed. User may already exist.")}},Z=async(e,s)=>{try{await(async(e,s,a)=>(await new Promise(e=>setTimeout(e,300)),{success:!0,movieId:s,rating:a}))(0,e,s);const a=await w();F(a.ratings)}catch(a){A("Failed to add rating.")}};return x?e.jsxs("div",{className:"space-y-4",children:[J&&e.jsxs(l,{variant:"destructive",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx(c,{children:J})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"font-semibold text-sm",children:["Rate Movies (",R.length," rated)"]}),e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>{localStorage.removeItem("authToken"),m(""),u(!1),F([]),P([]),b(""),S("")},className:"text-xs",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-2 top-2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search movies...",value:q,onChange:e=>U(e.target.value),className:"w-full pl-8 pr-3 py-2 text-sm bg-secondary/30 border border-border/50 rounded-lg"})]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:(q?E.filter(e=>e.title.toLowerCase().includes(q.toLowerCase())):E).map(s=>{const a=(t=s.id,(null==(r=R.find(e=>e.movieId===t))?void 0:r.rating)||0);var t,r;return e.jsxs("div",{className:"bg-secondary/20 rounded-lg p-3 border border-border/30",children:[e.jsx("h5",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>Z(s.id,t),children:e.jsx(d,{className:"w-4 h-4 "+(t<=a?"text-yellow-500 fill-current":"text-muted-foreground")})},t))})]},s.id)})})]}),R.length>0&&e.jsx(n,{onClick:async()=>{L(!0),A("");try{const e=await(async()=>(await new Promise(e=>setTimeout(e,800)),[{id:6,title:"Inception",genre:"Sci-Fi",year:2010,rating:8.8,reason:"Similar to your liked movies"},{id:7,title:"Interstellar",genre:"Sci-Fi",year:2014,rating:8.6,reason:"Recommended for you"},{id:8,title:"The Matrix",genre:"Sci-Fi",year:1999,rating:8.7,reason:"Popular in your genre"}]))();P(e)}catch(e){A("Failed to get recommendations.")}finally{L(!1)}},disabled:z,className:"w-full",children:z?"Generating...":"Get Recommendations"}),D.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-primary",children:"Recommendations for You"}),e.jsx("div",{className:"space-y-2",children:D.map(s=>e.jsx(a,{className:"bg-secondary/30",children:e.jsxs(i,{className:"p-3",children:[e.jsx("h5",{className:"font-medium text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground italic",children:s.explanation}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(d,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{children:s.predictedRating.toFixed(1)})]})]})},s.movieId))})]})]}):e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(r,{children:M?"Register":"Login"})}),e.jsxs(i,{children:[e.jsxs("form",{onSubmit:M?H:Y,className:"space-y-4",children:[e.jsx("input",{type:"email",placeholder:"Email",value:N,onChange:e=>b(e.target.value),className:"w-full p-2 bg-secondary/30 border border-border/50 rounded-lg",required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:k,onChange:e=>S(e.target.value),className:"w-full p-2 bg-secondary/30 border border-border/50 rounded-lg",required:!0}),I&&e.jsx("p",{className:"text-red-500 text-sm",children:I}),e.jsxs(n,{type:"submit",className:"w-full",children:[M?e.jsx(y,{className:"w-4 h-4 mr-2"}):e.jsx(p,{className:"w-4 h-4 mr-2"}),M?"Register":"Login"]})]}),e.jsx(n,{variant:"link",onClick:()=>T(!M),className:"w-full mt-4",children:M?"Already have an account? Login":"Need an account? Register"})]})]})})},b=()=>e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-16",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(n,{variant:"ghost",onClick:()=>window.location.href="/#/showcase",className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(x,{className:"w-4 h-4"}),"Back to Showcase"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-gradient-primary rounded-2xl shadow-glow-primary/50",children:e.jsx(d,{className:"w-8 h-8 text-background"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent",children:"Movie Recommendation Demo"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Recommendation system using matrix factorization and deep learning"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsx(N,{})})}),e.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Technical Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Algorithm"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Collaborative filtering with neural networks"}),e.jsx("li",{children:"• Matrix factorization techniques"}),e.jsx("li",{children:"• User and item embeddings"}),e.jsx("li",{children:"• Deep learning for complex patterns"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"Performance"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• 87.5% accuracy on MovieLens 25M"}),e.jsx("li",{children:"• Handles sparse user-item matrices"}),e.jsx("li",{children:"• Personalized recommendations"}),e.jsx("li",{children:"• Cold start problem mitigation"})]})]})]})]})})]})})]});
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{b as default};
