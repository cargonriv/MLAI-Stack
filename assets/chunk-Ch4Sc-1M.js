const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/transformersLLM-aXVedRsf.js","assets/transformers.web.js-BNI60vAQ.js","assets/webllm-BWRc2Rtu.js","assets/chunk-DJ5HabuJ.js"])))=>i.map(i=>d[i]);
import{c as e}from"./index-Z9URA8dj.js";import{_ as t}from"./chunk-C_tfXL3w.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function o(e,t={}){if(!e||0===e.trim().length)return!1;const n=e.trim();if(t.languageCode,!1!==t.ensureCompleteThought){if(function(e){const t=e.trim();if(!/[.!?]$/.test(t))return!0;const n=(t.match(/\(/g)||[]).length,o=(t.match(/\)/g)||[]).length,i=(t.match(/\[/g)||[]).length,s=(t.match(/\]/g)||[]).length,a=(t.match(/\{/g)||[]).length,r=(t.match(/\}/g)||[]).length,l=(t.match(/"/g)||[]).length;if(n!==o||i!==s||a!==r||l%2!=0)return!0;return!1}(n))return!0;if(function(e,t){switch(t){case"technical":return function(e){return[/\b(step|phase|stage|part|section|component|element|aspect|feature|function|method|process|procedure|algorithm|implementation|configuration|setup|installation|deployment|testing|debugging|optimization|analysis|evaluation|comparison|example|demonstration|illustration|explanation|description|definition|specification|requirement|constraint|limitation|advantage|disadvantage|benefit|drawback|consideration|recommendation|suggestion|conclusion|summary|overview|introduction|background|context|scope|objective|goal|purpose|result|outcome|finding|observation|insight|implication|application|usage|practice|approach|strategy|technique|solution|problem|issue|challenge|difficulty|complexity|simplicity|efficiency|performance|scalability|reliability|security|maintainability|usability|accessibility|compatibility|interoperability|portability|flexibility|extensibility|modularity|reusability|testability|debuggability|readability)\s+\d+[:\.]?\s*$/i,/\b(first|second|third|fourth|fifth|next|then|finally|lastly|additionally|furthermore|moreover|however|therefore|thus|consequently|as a result|in conclusion|to summarize)\b.*$/i].some(t=>t.test(e))}(e);case"conversational":return function(e){return[/\b(and|or|but|however|so|because|since|while|when|if|unless|although|though|whereas|moreover|furthermore|additionally|also|likewise|similarly|conversely|on the other hand|in contrast|for example|for instance|such as|including|like|as well as|not only|either|neither|both|whether)\s*$/i,/\b(let me|i think|i believe|i feel|in my opinion|from my perspective|it seems|it appears|it looks like|it sounds like)\b.*$/i].some(t=>t.test(e))}(e);case"structured":return function(e){return[/^\d+\.\s*$/,/^[-*]\s*$/,/:\s*$/].some(t=>t.test(e))}(e);case"creative":return function(e){return[/\b(once upon a time|in a world where|imagine|picture this|it was a|there was a|long ago|in the beginning|suddenly|meanwhile|later|eventually|finally|the end)\b.*$/i].some(t=>t.test(e))}(e);default:return function(e){return[/\b(that|which|who|whom|whose|where|when|why|how|what)\s*$/i,/\b(the|a|an|this|that|these|those|my|your|his|her|its|our|their|some|any|all|each|every|no|none)\s*$/i].some(t=>t.test(e))}(e)}}(n,t.contentType))return!0;if(function(e){const t=e.trim();return[/\b(and|or|but|however|therefore|thus|so|because|since|while|when|if|unless|although|though|whereas|moreover|furthermore|additionally|also|likewise|similarly|conversely|on the other hand|in contrast|for example|for instance|such as|including|like|as well as|not only|either|neither|both|whether|that|which|who|whom|whose|where|why|how|what|when)\s*$/i,/\b(the|a|an|this|that|these|those|my|your|his|her|its|our|their|some|any|all|each|every|no|none|one|two|three|many|few|several|most|more|less|much|little|very|quite|rather|too|so|such|as|like|than|then|now|here|there|where|when|why|how|what|who|which|that)\s*$/i,/\b(is|are|was|were|be|been|being|have|has|had|do|does|did|will|would|could|should|might|may|can|must|shall|ought)\s*$/i,/,\s*$/,/:\s*$/,/;\s*$/,/\(\s*$/,/\[\s*$/,/\{\s*$/,/-\s*$/].some(e=>e.test(t))}(n))return!0}return!("code"!==t.contentType||!function(e){return[/\{\s*$/,/\(\s*$/,/\[\s*$/,/=\s*$/,/,\s*$/,/\+\s*$/,/-\s*$/,/\*\s*$/,/\/\s*$/,/&&\s*$/,/\|\|\s*$/].some(t=>t.test(e))}(n))}function i(e){return async t=>{const n=e.split(" ");n[n.length-1];const o=[" to be completed properly."," and requires additional context."," for better understanding."," with more detailed information."," to provide comprehensive coverage."],i=o[Math.floor(Math.random()*o.length)];return e+i}}async function s(e,t,n={}){const o=Date.now();try{const i=n.maxAdditionalTokens||100,s=await t(i),a=s!==e,r=a?s.substring(e.length).split(/\s+/).length:0;return{completedText:s,wasCompleted:a,additionalTokensUsed:r,completionReason:a?"Completed using simple completion":"No completion needed",processingTimeMs:Date.now()-o}}catch(i){return{completedText:e,wasCompleted:!1,additionalTokensUsed:0,completionReason:`Completion failed: ${i instanceof Error?i.message:"Unknown error"}`,processingTimeMs:Date.now()-o}}}async function a(e,n,i,s={}){const a=Date.now(),r={maxAdditionalTokens:100,timeoutMs:1e4,minCompletionLength:10,contentType:"conversational",languageCode:"en",ensureCompleteThought:!0,adaptiveTokens:!0,...s};if(!o(e,r))return{completedText:e,wasCompleted:!1,additionalTokensUsed:0,completionReason:"Text appears complete",processingTimeMs:Date.now()-a};try{let o=e,s=0;const l=`Please complete this response naturally and ensure it finishes the thought completely:\n\n"${e}"`,c=[...n,{role:"user",content:l}];if(i.includes("transformers")){const{generateTransformersResponse:n}=await t(async()=>{const{generateTransformersResponse:e}=await import("./transformersLLM-aXVedRsf.js");return{generateTransformersResponse:e}},__vite__mapDeps([0,1])),i=await n(c.map(e=>({role:e.role,content:e.content})),{max_new_tokens:r.maxAdditionalTokens,temperature:.3,adaptive_tokens:!1}),a=i.indexOf(e);if(-1!==a){const t=i.substring(a+e.length).trim();t.length>=(r.minCompletionLength||10)&&(o=e+" "+t,s=t.split(/\s+/).length)}}else if(i.includes("webllm")){const{generateResponse:n}=await t(async()=>{const{generateResponse:e}=await import("./webllm-BWRc2Rtu.js");return{generateResponse:e}},__vite__mapDeps([2,3])),i=await n(c.map(e=>({role:e.role,content:e.content})),{max_tokens:r.maxAdditionalTokens,temperature:.3,adaptive_tokens:!1}),a=i.indexOf(e);if(-1!==a){const t=i.substring(a+e.length).trim();t.length>=(r.minCompletionLength||10)&&(o=e+" "+t,s=t.split(/\s+/).length)}}const h=o!==e;return{completedText:o,wasCompleted:h,additionalTokensUsed:s,completionReason:h?"Successfully completed incomplete thought":"Could not generate meaningful completion",processingTimeMs:Date.now()-a}}catch(l){return{completedText:e,wasCompleted:!1,additionalTokensUsed:0,completionReason:`Completion failed: ${l instanceof Error?l.message:"Unknown error"}`,processingTimeMs:Date.now()-a}}}export{n as I,a,s as b,i as c,o as n};
